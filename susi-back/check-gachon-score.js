// check-gachon-score.js
// 가천의학 점수표 데이터 확인

const fs = require('fs');
const path = require('path');

const dataDir = path.join(__dirname, 'src/modules/jungsi/calculation/data');
const 점수표 = JSON.parse(fs.readFileSync(path.join(dataDir, '점수표-26-정시.json'), 'utf-8'));

console.log('=== 가천의학 점수표 데이터 ===\n');

// 국어
console.log('국어 145점 가천의학:', 점수표['국어']?.['145']?.['가천의학']);

// 수학
console.log('수학(미적) 130점 가천의학:', 점수표['수학(미적)']?.['130']?.['가천의학']);

// 영어
console.log('영어 1등급 가천의학:', 점수표['영어']?.['1']?.['가천의학']);

// 한국사
console.log('한국사 2등급 가천의학:', 점수표['한국사']?.['2']?.['가천의학']);

// 탐구
console.log('생명과학Ⅰ 69점 가천의학:', 점수표['생명과학 Ⅰ']?.['69']?.['가천의학']);
console.log('화학Ⅰ 68점 가천의학:', 점수표['화학 Ⅰ']?.['68']?.['가천의학']);

console.log('\n=== 가천의학이 점수표에 있는지 확인 ===');
const 학교목록 = Object.keys(점수표['국어']?.['145'] || {}).filter(k => k.includes('가천'));
console.log('가천 관련 학교:', 학교목록);

// 백분위 기반 계산 시뮬레이션
console.log('\n=== 백분위 기반 계산 ===');
const 국어백분위 = 99;
const 수학백분위 = 95;
const 탐구1백분위 = 92;
const 탐구2백분위 = 91;

const 평균백분위 = (국어백분위 + 수학백분위 + 탐구1백분위 + 탐구2백분위) / 4;
console.log('백분위 평균:', 평균백분위);

// Excel 예상값 980.75를 역산
const 예상값 = 980.75;
console.log('\n=== Excel 예상값 역산 ===');
console.log('예상값 / 평균백분위:', 예상값 / 평균백분위);

// 가천대 환산 공식 추정
// 1000점 만점에서 백분위 평균으로 환산?
// 백분위 평균 * 10 + 영어 가산?
const 영어등급백분위변환 = [100, 96, 89, 77, 60, 40, 23, 11, 0];
const 영어백분위 = 영어등급백분위변환[0]; // 1등급 = 100

console.log('\n=== 영어 포함 계산 ===');
// (국어 + 수학 + 영어 + 탐구1 + 탐구2) / 5 * 10 = ?
const 영어포함평균 = (국어백분위 + 수학백분위 + 영어백분위 + 탐구1백분위 + 탐구2백분위) / 5;
console.log('영어 포함 백분위 평균:', 영어포함평균);
console.log('* 10:', 영어포함평균 * 10);

// 백분위 합계
const 백분위합 = 국어백분위 + 수학백분위 + 영어백분위 + 탐구1백분위 + 탐구2백분위;
console.log('\n백분위 합계:', 백분위합);
console.log('탐구 1개만:', 국어백분위 + 수학백분위 + 영어백분위 + 탐구1백분위);

// 4과목 평균 * 10 + 보정
console.log('\n=== 4과목 가중치 계산 ===');
// 국어(25%) + 수학(30%) + 영어(20%) + 탐구(25%)
const 가중평균 = 국어백분위 * 2.5 + 수학백분위 * 3 + 영어백분위 * 2 + (탐구1백분위 + 탐구2백분위) * 1.25;
console.log('가중 합계:', 가중평균);
