<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3Dmol.js ë¬¼ ë¶„ì í…ŒìŠ¤íŠ¸</title>

  <!-- 3Dmol.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/3dmol@2.0.4/build/3Dmol-min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      background: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h1 {
      color: #333;
      border-bottom: 3px solid #4CAF50;
      padding-bottom: 10px;
    }

    .viewer-container {
      margin: 20px 0;
      border: 2px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
    }

    .description {
      background: #f9f9f9;
      padding: 15px;
      border-left: 4px solid #4CAF50;
      margin: 20px 0;
    }

    .info {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 4px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ§ª 3Dmol.js - ë¬¼ ë¶„ì 3D êµ¬ì¡° ì‹œê°í™”</h1>

    <div class="description">
      <h3>ë¬¼ ë¶„ì (Hâ‚‚O)</h3>
      <p>
        ë¬¼ ë¶„ìëŠ” ì‚°ì†Œ ì›ì 1ê°œì™€ ìˆ˜ì†Œ ì›ì 2ê°œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
        ë¶„ì ê¸°í•˜í•™: <strong>êµ½ì€í˜• (bent)</strong><br>
        ê²°í•©ê°: ì•½ <strong>104.5Â°</strong><br>
        O-H ê²°í•© ê¸¸ì´: ì•½ <strong>0.96 Ã…</strong>
      </p>
    </div>

    <div class="viewer-container">
      <div id="mol3d-viewer" style="width: 100%; height: 500px;"></div>
    </div>

    <div class="info">
      <h4>ì¡°ì‘ ë°©ë²•:</h4>
      <ul>
        <li><strong>ë§ˆìš°ìŠ¤ ë“œë˜ê·¸:</strong> ë¶„ì íšŒì „</li>
        <li><strong>ë§ˆìš°ìŠ¤ íœ :</strong> í™•ëŒ€/ì¶•ì†Œ</li>
        <li><strong>ìš°í´ë¦­ ë“œë˜ê·¸:</strong> í‰í–‰ ì´ë™</li>
      </ul>
    </div>

    <h2>ğŸ“Š êµ¬í˜„ëœ ìŠ¤íƒ€ì¼</h2>
    <div id="style-examples"></div>
  </div>

  <script>
    // ë¬¼ ë¶„ì XYZ ë°ì´í„°
    const waterMoleculeXYZ = `3
Water molecule H2O
O       0.000000    0.000000    0.117176
H       0.000000    0.756950   -0.468706
H       0.000000   -0.756950   -0.468706`;

    // 3Dmol ë·°ì–´ ìƒì„±
    const viewer = $3Dmol.createViewer('mol3d-viewer', {
      backgroundColor: 'white'
    });

    // ë¶„ì ë°ì´í„° ë¡œë“œ (XYZ í˜•ì‹)
    viewer.addModel(waterMoleculeXYZ, 'xyz');

    // ìŠ¤íƒ€ì¼ 1: Ball and Stick (ê¸°ë³¸)
    viewer.setStyle({}, {
      stick: {radius: 0.15, color: 'gray'},
      sphere: {radius: 0.3, colorscheme: 'Jmol'}
    });

    // ë¼ë²¨ ì¶”ê°€
    viewer.addLabel('O', {
      position: {x: 0, y: 0, z: 0.117176},
      backgroundColor: 'red',
      fontColor: 'white',
      fontSize: 14,
      backgroundOpacity: 0.8
    });

    viewer.addLabel('H', {
      position: {x: 0, y: 0.75695, z: -0.468706},
      backgroundColor: 'blue',
      fontColor: 'white',
      fontSize: 12,
      backgroundOpacity: 0.8
    });

    viewer.addLabel('H', {
      position: {x: 0, y: -0.75695, z: -0.468706},
      backgroundColor: 'blue',
      fontColor: 'white',
      fontSize: 12,
      backgroundOpacity: 0.8
    });

    // ë·° ì„¤ì •
    viewer.zoomTo();
    viewer.render();

    // ìë™ íšŒì „ ì• ë‹ˆë©”ì´ì…˜
    let angle = 0;
    function animate() {
      angle += 0.01;
      viewer.rotate(angle, 'y');
      requestAnimationFrame(animate);
    }
    // animate(); // í•„ìš”ì‹œ ì£¼ì„ í•´ì œ

    // ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ì˜ˆì‹œ í‘œì‹œ
    const styleExamples = document.getElementById('style-examples');

    const styles = [
      {
        name: 'Ball and Stick',
        description: 'ê¸°ë³¸ ê³µê³¼ ë§‰ëŒ€ ëª¨ë¸',
        code: `{
  stick: {radius: 0.15, color: 'gray'},
  sphere: {radius: 0.3, colorscheme: 'Jmol'}
}`
      },
      {
        name: 'Stick',
        description: 'ë§‰ëŒ€ ëª¨ë¸ë§Œ',
        code: `{
  stick: {radius: 0.2, colorscheme: 'Jmol'}
}`
      },
      {
        name: 'Sphere',
        description: 'ê³µê°„ ì±„ì›€ ëª¨ë¸',
        code: `{
  sphere: {radius: 0.5, colorscheme: 'Jmol'}
}`
      }
    ];

    styles.forEach(style => {
      const div = document.createElement('div');
      div.className = 'info';
      div.innerHTML = `
        <h4>${style.name}</h4>
        <p>${style.description}</p>
        <pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; overflow-x: auto;">${style.code}</pre>
      `;
      styleExamples.appendChild(div);
    });

    console.log('âœ… 3Dmol.js ë¬¼ ë¶„ì ì‹œê°í™” ì„±ê³µ!');
  </script>
</body>
</html>
