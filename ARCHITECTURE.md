# 수시 프로젝트 구조도

## 전체 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                    사용자 브라우저                        │
│                 (http://localhost:3001)                  │
└───────────────────┬─────────────────────────────────────┘
                    │
                    ↓
        ┌───────────────────────┐
        │   수시 프론트엔드      │
        │   (susi-front)        │
        │   React + Vite        │
        │   Port: 3001          │
        └───────┬───────────────┘
                │
        ┌───────┴────────────────────────┐
        │                                │
        ↓                                ↓
┌───────────────┐              ┌─────────────────┐
│  Hubs 백엔드   │              │  수시 백엔드     │
│  (GB-Back)    │              │  (susi-back)    │
│  Port: 4000   │              │  NestJS         │
│               │              │  Port: 4001     │
│  ✓ 로그인      │              │  ✓ 수시 분석    │
│  ✓ JWT 발급   │              │  ✓ 5단계 흐름   │
└───────┬───────┘              └────────┬────────┘
        │                               │
        │         ┌─────────────────────┘
        │         │
        └─────┬───┴──────┐
              │          │
              ↓          ↓
      ┌──────────────────────┐
      │  MySQL 데이터베이스    │
      │  geobukschool_dev    │
      │                      │
      │  공유 테이블:         │
      │  - member_tb         │
      │  - university        │
      │  - admission*        │
      │                      │
      │  수시 전용 테이블:     │
      │  - susi_subject      │
      │  - susi_comprehensive│
      └──────────────────────┘
```

## 인증 흐름

```
1. 사용자가 로그인 요청
   ↓
2. 수시 프론트엔드 → Hubs 백엔드 (localhost:4000/auth/login/email)
   ↓
3. Hubs 백엔드가 JWT 토큰 발급
   ↓
4. 토큰을 로컬스토리지에 저장
   ↓
5. 이후 모든 API 요청에 토큰 포함
   ↓
6. 수시 API 요청 시 → 수시 백엔드 (localhost:4001/susi/*)
```

## 공유 패키지 구조

```
shared-packages/
├── auth/
│   ├── index.ts           # 로그인, 로그아웃 함수
│   └── api-client.ts      # Hubs API 클라이언트
├── ui/
│   ├── Button.tsx         # 공통 버튼
│   └── index.ts
├── types/
│   └── index.ts           # 공통 타입 정의
└── utils/
    └── index.ts           # 유틸리티 함수
```

## 프로젝트별 책임

### 수시 프론트엔드 (susi-front)
- 수시 전용 UI/UX
- 수시 5단계 흐름
- 수시 분석 결과 표시
- 로그인은 shared-packages/auth 사용

### 수시 백엔드 (susi-back)
- 수시 교과 API
- 수시 학종 API
- 수시 데이터 관리
- JWT 인증 (Hubs와 동일한 시크릿 사용)

### Hubs 백엔드 (GB-Back-Nest)
- 로그인/회원가입
- JWT 토큰 발급
- 회원 정보 관리
- 전체 입시 데이터 관리

### 공유 패키지 (shared-packages)
- 인증 함수
- 공통 UI 컴포넌트
- 공통 타입
- 유틸리티 함수

## 개발 원칙

1. **독립성**: 수시 프로젝트는 독립적으로 배포 가능
2. **공유 최소화**: 로그인과 공통 UI만 공유
3. **명확한 경계**: shared-packages를 통해서만 Hubs 기능 사용
4. **동일한 JWT**: Hubs와 동일한 JWT_SECRET 사용 필수


















